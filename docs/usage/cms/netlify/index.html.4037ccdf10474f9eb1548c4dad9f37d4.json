{"head":{"title":"Use Netlify CMS to manage your content of a Phenomic project","description":"Once you configured automatic deployment with Netlify, you may want to get a CMS to manage Phenomic content. You are lucky, Netlify is…"},"body":"<p>Once you configured <a href=\"../../deploy/netlify/\">automatic deployment with Netlify</a>,\nyou may want to get a CMS to manage Phenomic content.</p>\n<p>You are lucky, <a href=\"https://www.netlify.com/\">Netlify</a> is working on <a href=\"https://github.com/netlify/netlify-cms\">netlify-cms</a>.</p>\n<p><em>Netlify CMS</em> is a Content Management System for static site generators,\nso we can use it with Phenomic.</p>\n<hr>\n<p>⚠️ Netlify-cms is in active development and there is not a stable version for now</p>\n<hr>\n<p>Let's see how to configure it</p>\n<h2 id=\"install\"><a href=\"#install\" class=\"phenomic-HeadingAnchor\">#</a>Install</h2>\n<p>The installation is pretty simple.</p>\n<p>You need to create an <code>/admin</code> folder to the root of your project directory\nwith 2 files :</p>\n<ol>\n<li><code>index.html</code>:</li>\n</ol>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-meta\">&#x3C;!doctype html></span>\n<span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">html</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">head</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">\"utf-8\"</span> /></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">\"viewport\"</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">\"width=device-width, initial-scale=1.0\"</span> /></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">title</span>></span>Content Manager<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">title</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">\"stylesheet\"</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">\"https://unpkg.com/netlify-cms/dist/cms.css\"</span> /></span>\n  <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">head</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">body</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">\"https://unpkg.com/netlify-cms/dist/cms.js\"</span>></span><span class=\"null\"></span><span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">script</span>></span>\n  <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">body</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">html</span>></span></code></pre>\n<ol start=\"2\">\n<li><code>package.json</code></li>\n</ol>\n<p>  You need to configure the <code>source</code> and <code>assets</code> folders.</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-string\">\"phenomic\"</span>: {\n   <span class=\"hljs-attr\">\"source\"</span>: <span class=\"hljs-string\">\"content\"</span>,\n   <span class=\"hljs-attr\">\"assets\"</span>: <span class=\"hljs-string\">\"content/assets\"</span>,\n}</code></pre>\n<ol start=\"3\">\n<li><code>config.yml</code>:</li>\n</ol>\n<p>  <em>Note: Be sure your source and assets folders are the same in you <code>package.json</code> and your <code>config.yml</code>.</em></p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-attr\">backend:</span>\n<span class=\"hljs-attr\">  name:</span> <span class=\"hljs-string\">github</span>\n<span class=\"hljs-attr\">  repo:</span> <span class=\"hljs-string\">owner/repo</span> <span class=\"hljs-comment\"># replace by your repo</span>\n<span class=\"hljs-attr\">  branch:</span> <span class=\"hljs-string\">master</span> <span class=\"hljs-comment\"># replace if you want netlify-cms publish on a different branch</span>\n\n<span class=\"hljs-attr\">public_folder:</span> <span class=\"hljs-string\">\"content\"</span> <span class=\"hljs-comment\"># the same as your phenomic.source in your package.json</span>\n<span class=\"hljs-attr\">media_folder:</span> <span class=\"hljs-string\">\"content/assets\"</span> <span class=\"hljs-comment\"># the same as your phenomic.assets in your package.json</span>\n\n<span class=\"hljs-attr\">collections:</span>\n<span class=\"hljs-attr\">  - name:</span> <span class=\"hljs-string\">\"post\"</span>\n<span class=\"hljs-attr\">    label:</span> <span class=\"hljs-string\">\"Post\"</span>\n<span class=\"hljs-attr\">    folder:</span> <span class=\"hljs-string\">\"content/posts\"</span> <span class=\"hljs-comment\"># a subfolder of your public_folder</span>\n<span class=\"hljs-attr\">    create:</span> <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">    card:</span> <span class=\"hljs-string\">{type:</span> <span class=\"hljs-string\">\"alltype\"</span><span class=\"hljs-string\">,</span> <span class=\"hljs-attr\">text:</span> <span class=\"hljs-string\">\"title\"</span><span class=\"hljs-string\">}</span>\n<span class=\"hljs-attr\">    fields:</span>\n<span class=\"hljs-bullet\">      -</span> <span class=\"hljs-string\">{label:</span> <span class=\"hljs-string\">\"Title\"</span><span class=\"hljs-string\">,</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">\"title\"</span><span class=\"hljs-string\">,</span> <span class=\"hljs-attr\">widget:</span> <span class=\"hljs-string\">\"string\"</span><span class=\"hljs-string\">}</span>\n<span class=\"hljs-bullet\">      -</span> <span class=\"hljs-string\">{label:</span> <span class=\"hljs-string\">\"Body\"</span><span class=\"hljs-string\">,</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">\"body\"</span><span class=\"hljs-string\">,</span> <span class=\"hljs-attr\">widget:</span> <span class=\"hljs-string\">\"markdown\"</span><span class=\"hljs-string\">}</span>\n<span class=\"hljs-attr\">    meta:</span>\n<span class=\"hljs-bullet\">      -</span> <span class=\"hljs-string\">{label:</span> <span class=\"hljs-string\">\"Publish Date\"</span><span class=\"hljs-string\">,</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">\"date\"</span><span class=\"hljs-string\">,</span> <span class=\"hljs-attr\">widget:</span> <span class=\"hljs-string\">\"datetime\"</span><span class=\"hljs-string\">}</span></code></pre>\n<p>  For more informations about the <code>config.yml</code>, checkout the <a href=\"https://github.com/netlify/netlify-cms#installing\">official documentation</a></p>\n<h2 id=\"webpack-configuration\"><a href=\"#webpack-configuration\" class=\"phenomic-HeadingAnchor\">#</a>Webpack configuration</h2>\n<p>We need to install the <code>Copy Webpack Plugin</code> :</p>\n<pre><code class=\"hljs language-console\">npm install -D <span class=\"hljs-keyword\">copy</span><span class=\"bash\">-webpack-plugin</span></code></pre>\n<p>Next import it in your <code>webpack.config.js</code></p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> CopyWebpackPlugin <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"copy-webpack-plugin\"</span></code></pre>\n<p>Now, we have to tell to <code>Webpack</code> to copy our <code>/admin</code> folder :</p>\n<pre><code class=\"hljs language-js\">  plugins: [\n    <span class=\"hljs-keyword\">new</span> CopyWebpackPlugin([\n      {<span class=\"hljs-attr\">from</span>: <span class=\"hljs-string\">'admin'</span>, <span class=\"hljs-attr\">to</span>: <span class=\"hljs-string\">'admin'</span>},\n    ]),\n  ]</code></pre>\n<p>At this step, you can push modifications to your repository,\nwait until your project is deployed on Netlify,\nand you will be able to access to administration panel with this path : <code>{YOUR_NETLIFY_PROJECT}.netlify.com/admin</code></p>\n<h2 id=\"netlify-configuration\"><a href=\"#netlify-configuration\" class=\"phenomic-HeadingAnchor\">#</a>Netlify configuration</h2>\n<p>One more step. We need to specify an authentification provider on <code>Netlify</code>.</p>\n<ul>\n<li>\n<p>Go on your <code>Github</code> settings and create a new developer application.\nThe only important field is <code>Authorization callback URL</code>.\n<strong>Make sure to set <code>https://api.netlify.com/auth/done</code></strong>.</p>\n</li>\n<li>\n<p>Go to the <code>Access</code> tab on your <code>Netlify</code> administration and configure your\nGithub provider with the <code>Client ID</code> and <code>Client Secret</code> generated on the\nprevious step.</p>\n</li>\n</ul>\n<p>You are done. You can now access to your admin panel via your <code>Github</code> account.</p>\n<p><em>Note: It's also possible to use Bitbucket as a provider.</em></p>\n","__filename":"docs/usage/cms/netlify.md","__url":"/docs/usage/cms/netlify/","__resourceUrl":"/docs/usage/cms/netlify/index.html","__dataUrl":"/docs/usage/cms/netlify/index.html.4037ccdf10474f9eb1548c4dad9f37d4.json"}